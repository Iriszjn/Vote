<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>活动实时反馈 / Event Live Feedback</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: #333; margin: 0; padding: 20px 15px; display: flex; justify-content: center; align-items: center; min-height: 100vh; box-sizing: border-box; } .container { width: 100%; max-width: 500px; background: rgba(255, 255, 255, 0.95); padding: 30px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15); backdrop-filter: blur(10px); } h1 { font-size: 1.8em; color: #3f51b5; text-align: center; margin: 0 0 25px 0; line-height: 1.3; } .form-section { margin-bottom: 25px; } .question-title { font-size: 1.1em; font-weight: 600; margin-bottom: 15px; color: #555; line-height: 1.4; } .optional-tag { font-size: 0.8em; font-weight: normal; color: #999; } .satisfaction-options { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; } .satisfaction-options label { cursor: pointer; padding: 12px 5px; border-radius: 10px; background-color: #f1f3f5; border: 1px solid #dee2e6; font-size: 1em; transition: all 0.2s ease-in-out; text-align: center; line-height: 1.3; } .lang-en { display: block; font-size: 0.8em; color: #555; margin-top: 2px; } .satisfaction-options input[type="radio"] { display: none; } .satisfaction-options input[type="radio"]:checked + label { background-color: #4c6ef5; color: white; border-color: #4c6ef5; transform: scale(1.05); box-shadow: 0 4px 12px rgba(76, 110, 245, 0.4); } .satisfaction-options input[type="radio"]:checked + label .lang-en { color: #e0e0e0; } input[type="text"], textarea { width: 100%; padding: 12px; border: 1px solid #ccc; border-radius: 8px; font-size: 1em; margin-top: 5px; box-sizing: border-box; transition: border-color 0.3s, box-shadow 0.3s; } input[type="text"]:focus, textarea:focus { border-color: #4c6ef5; box-shadow: 0 0 0 3px rgba(76, 110, 245, 0.2); outline: none; } button#submit-btn { display: block; width: 100%; padding: 15px; background: linear-gradient(45deg, #4776e6, #8e54e9); color: white; border: none; border-radius: 10px; font-size: 1.2em; font-weight: bold; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s; margin-top: 15px; } button#submit-btn:hover { transform: translateY(-3px); box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2); }
    </style>
</head>
<body>
    <div class="container">
        <h1>活动实时反馈<br><span class="lang-en" style="font-size:0.7em; font-weight:normal;">Event Live Feedback</span></h1>
        
        <div class="form-section">
            <div class="question-title">1. 您对本次活动的整体满意度如何？<br><span class="lang-en">How satisfied are you with this event?</span></div>
            <form id="satisfaction-form" class="satisfaction-options">
                <input type="radio" id="option1" name="satisfaction" value="非常好"><label for="option1">🎉 非常好<br><span class="lang-en">Excellent</span></label>
                <input type="radio" id="option2" name="satisfaction" value="不错"><label for="option2">👍 不错<br><span class="lang-en">Good</span></label>
                <input type="radio" id="option3" name="satisfaction" value="一般"><label for="option3">🙂 一般<br><span class="lang-en">Average</span></label>
                <input type="radio" id="option4" name="satisfaction" value="有待改进"><label for="option4">🤔 有待改进<br><span class="lang-en">Needs Improvement</span></label>
            </form>
        </div>
        <div class="form-section">
            <div class="question-title">2. 请用一个词语描述您的感受。<br><span class="lang-en">Describe your feeling in one word.</span></div>
            <input type="text" id="wordcloud-text" placeholder="例如：有趣、充实 / e.g., Fun, Inspiring...">
        </div>
        <div class="form-section">
            <div class="question-title">3. 您对活动有什么建议？ <span class="optional-tag">(选填 / Optional)</span><br><span class="lang-en">Any suggestions for us?</span></div>
            <textarea id="suggestion-text" rows="4" placeholder="您的建议是我们进步的动力 / Your suggestions help us improve..."></textarea>
        </div>
        <button id="submit-btn" onclick="submitFeedback()">提 交 / SUBMIT</button>
    </div>

    <!-- LeanCloud SDK -->
    <script src="//cdn.jsdelivr.net/npm/leancloud-storage/dist/av-live-query-min.js"></script>

    <script>
        // LeanCloud App Credentials
        AV.init({
            appId: "Slv3fGdSSxRZxOzM5la2ZCyD-gzGzoHsz",
            appKey: "XcUAt5yfUPWQlEpLBdXLcJHW",
            serverURL: "https://slv3fgds.lc-cn-n1-shared.com"
        });

        function submitFeedback() {
            const satisfactionOption = document.querySelector('input[name="satisfaction"]:checked');
            const wordcloudText = document.getElementById('wordcloud-text').value.trim();
            const suggestionText = document.getElementById('suggestion-text').value.trim();

            if (!satisfactionOption) { alert('请选择您的满意度！\nPlease select your satisfaction level!'); return; }
            if (!wordcloudText) { alert('请用一个词语描述您的感受！\nPlease describe your feeling in one word!'); return; }
            
            // 1. 保存满意度投票
            const Satisfaction = AV.Object.extend('Satisfaction');
            const satisfaction = new Satisfaction();
            satisfaction.set('vote', satisfactionOption.value);
            satisfaction.save();

            // 2. 保存词云词语
            const WordCloud = AV.Object.extend('WordCloud');
            const wordCloud = new WordCloud();
            wordCloud.set('word', wordcloudText);
            wordCloud.save();

            // 3. 保存建议（如果存在）
            if (suggestionText) {
                const Suggestion = AV.Object.extend('Suggestion');
                const suggestion = new Suggestion();
                suggestion.set('text', suggestionText);
                suggestion.save();
            }

            // 清空表单
            document.getElementById('satisfaction-form').reset();
            document.getElementById('wordcloud-text').value = '';
            document.getElementById('suggestion-text').value = '';
            
            alert('感谢您的参与！反馈已成功提交。\nThank you! Your feedback has been submitted successfully.');
        }
    </script>
</body>
</html>
